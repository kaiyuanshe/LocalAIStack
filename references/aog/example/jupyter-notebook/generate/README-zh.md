# Generate æœåŠ¡åœºæ™¯ç¤ºä¾‹

æœ¬ç¤ºä¾‹æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ AOG Generate API è¿›è¡Œå¤šæ¨¡æ€å†…å®¹ç”Ÿæˆï¼ˆæ”¯æŒæ–‡æœ¬+å›¾åƒè¾“å…¥ï¼‰ã€‚

## ğŸ“ åœºæ™¯æè¿°

Generate æœåŠ¡æ”¯æŒï¼š
- çº¯æ–‡æœ¬ç”Ÿæˆ
- å¤šæ¨¡æ€è¾“å…¥ï¼ˆæ–‡æœ¬+å›¾åƒï¼‰
- å›¾åƒç†è§£å’Œæè¿°
- åŸºäºå›¾åƒçš„åˆ›æ„ç”Ÿæˆ

## ğŸ¯ å­¦ä¹ ç›®æ ‡

é€šè¿‡æœ¬ç¤ºä¾‹ï¼Œä½ å°†å­¦ä¼šï¼š
1. å¦‚ä½•è°ƒç”¨ AOG Generate API
2. å¦‚ä½•å¤„ç†å¤šæ¨¡æ€è¾“å…¥ï¼ˆæ–‡æœ¬+å›¾åƒï¼‰
3. å¦‚ä½•ç¼–ç å’Œå‘é€å›¾åƒæ•°æ®
4. å¦‚ä½•é…ç½®ç”Ÿæˆå‚æ•°
5. å¦‚ä½•å¤„ç† API å“åº”

## ğŸ”Œ API ç«¯ç‚¹

```
POST http://localhost:16688/aog/v0.4/services/generate
```

## ğŸ“‹ è¯·æ±‚å‚æ•°

| å‚æ•° | ç±»å‹ | å¿…éœ€ | æè¿° |
|------|------|------|------|
| `model` | string | æ˜¯ | æ¨¡å‹åç§°ï¼Œå¦‚ `gemma3:4b` |
| `prompt` | string | æ˜¯ | æ–‡æœ¬æç¤ºè¯ |
| `stream` | boolean | å¦ | æ˜¯å¦æµå¼è¿”å›ï¼Œé»˜è®¤ `false` |
| `think` | boolean | å¦ | æ˜¯å¦è¿”å›æ€è€ƒè¿‡ç¨‹ï¼Œé»˜è®¤ `false` |
| `images` | array | å¦ | å›¾åƒçš„ base64 ç¼–ç æ•°ç»„ |

### è¯·æ±‚ç¤ºä¾‹

```json
{
  "model": "gemma3:4b",
  "prompt": "æ ¹æ®å›¾ç‰‡å†…å®¹ï¼Œç”Ÿæˆä¸€é¦–çŸ­è¯—",
  "stream": false,
  "think": false,
  "images": ["iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAIAA..."]
}
```

## ğŸ“Š å“åº”æ ¼å¼

```json
{
  "success": true,
  "message": {
    "created_at": "2025-08-14T08:12:24.4963364Z",
    "finish_reason": "stop",
    "finished": true,
    "id": "115177740913632811435",
    "model": "gemma3:4b",
    "response": "ç”Ÿæˆçš„æ–‡æœ¬å†…å®¹"
  },
  "model": "gemma3:4b",
  "created_at": "2025-08-14T08:12:24.4963364Z",
  "finish_reason": "stop"
}
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å…ˆå†³æ¡ä»¶

1. âœ… AOG æœåŠ¡å·²å®‰è£…å¹¶è¿è¡Œ
2. âœ… Generate æœåŠ¡å·²å®‰è£…
3. âœ… å·²ä¸‹è½½æ‰€éœ€çš„ç”Ÿæˆæ¨¡å‹ï¼ˆå¦‚ `gemma3:4b`ï¼‰

### è¿è¡Œæ­¥éª¤

1. ç¡®ä¿ AOG æœåŠ¡æ­£åœ¨è¿è¡Œ
2. æ‰“å¼€ [generate.ipynb](./generate.ipynb)
3. æŒ‰é¡ºåºæ‰§è¡Œ notebook ä¸­çš„ä»£ç å•å…ƒæ ¼

## ğŸ’¡ ä½¿ç”¨æŠ€å·§

### 1. çº¯æ–‡æœ¬ç”Ÿæˆ

```python
response = call_aog_generate(
    prompt="å†™ä¸€é¦–å…³äºæ˜¥å¤©çš„è¯—",
    model="gemma3:4b"
)
```

### 2. å›¾åƒç†è§£

```python
# è¯»å–å›¾åƒå¹¶è½¬æ¢ä¸º base64
with open("image.jpg", "rb") as f:
    image_base64 = base64.b64encode(f.read()).decode()

response = call_aog_generate(
    prompt="æè¿°è¿™å¼ å›¾ç‰‡çš„å†…å®¹",
    images=[image_base64],
    model="gemma3:4b"
)
```

### 3. åŸºäºå›¾åƒçš„åˆ›æ„ç”Ÿæˆ

```python
response = call_aog_generate(
    prompt="æ ¹æ®å›¾ç‰‡å†…å®¹ï¼Œç¼–å†™ä¸€ä¸ªçŸ­æ•…äº‹",
    images=[image_base64],
    model="gemma3:4b"
)
```

## ğŸ” å¸¸è§é—®é¢˜

**Q: Generate å’Œ Chat æœåŠ¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ**  
A: Generate æœåŠ¡æ”¯æŒå¤šæ¨¡æ€è¾“å…¥ï¼ˆæ–‡æœ¬+å›¾åƒï¼‰ï¼Œè€Œ Chat æœåŠ¡ä¸»è¦ç”¨äºçº¯æ–‡æœ¬å¯¹è¯ã€‚

**Q: æ”¯æŒå“ªäº›å›¾åƒæ ¼å¼ï¼Ÿ**  
A: æ”¯æŒå¸¸è§çš„å›¾åƒæ ¼å¼ï¼ˆJPEGã€PNG ç­‰ï¼‰ï¼Œéœ€è¦è½¬æ¢ä¸º base64 ç¼–ç åå‘é€ã€‚

**Q: å¦‚ä½•å¤„ç†å¤šå¼ å›¾åƒï¼Ÿ**  
A: å°†å¤šå¼ å›¾åƒçš„ base64 ç¼–ç æ”¾å…¥ `images` æ•°ç»„ä¸­ã€‚

## ğŸ“š ç›¸å…³èµ„æº

- [AOG API æ–‡æ¡£](../../docs/)
- [è¿”å›ä¸»é¡µ](../README.md)
- [Chat æœåŠ¡ç¤ºä¾‹](../text-generation/)
